\ProvidesPackage{style}

% --- Packages ---
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[indonesian]{babel}
\addto\captionsindonesian{\renewcommand{\partname}{Gugus}}
\usepackage{microtype} % Better kerning and spacing
\usepackage{geometry}
\usepackage{titlesec}
\usepackage{fancyhdr}
\usepackage{emptypage} % Remove headers/footers on empty pages
\usepackage{ebgaramond} % Premium serif font
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{enumitem}

% --- Page Setup ---
\ifdefined\isprint
    % Version: Print (A6 Pocketbook)
    \geometry{
        a6paper,
        top=15mm,
        bottom=15mm,
        inner=20mm,
        outer=15mm,
        headsep=5mm,
        footskip=10mm,
        headheight=24pt
    }
\else
    % Version: E-book (A5 Digital)
    \geometry{
        a5paper,
        top=2.5cm,
        bottom=2.5cm,
        left=2cm,
        right=2cm,
        headheight=24pt
    }
\fi

% --- Colors ---
\definecolor{artisandark}{HTML}{121212}
\definecolor{artisansilver}{HTML}{E0E0E0}

% --- Apply Global Colors ---
\usepackage{pagecolor}
\pagecolor{artisandark}
\AtBeginDocument{\color{artisansilver}}

% --- Headers & Footers ---
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\color{artisansilver}\thepage}
\fancyhead[RE]{\color{artisansilver}\textit{Gelar Sang Artisan}}
\fancyhead[LO]{\color{artisansilver}\textit{\leftmark}}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\headrule}{\hbox to\headwidth{\color{artisansilver}\leaders\hrule height \headrulewidth\hfill}}

% --- Override Plain Style (for Chapter pages) ---
\fancypagestyle{plain}{
  \fancyhf{}
  \fancyfoot[C]{\color{artisansilver}\thepage}
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0pt}
}

% --- Title Formatting ---
\titleformat{\chapter}[display]
  {\normalfont\huge\bfseries\color{artisansilver}}
  {\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{30pt}{20pt}

\titleformat{\section}
  {\normalfont\Large\bfseries\color{artisansilver}}
  {\thesection}{1em}{}
\titlespacing*{\section}{0pt}{18pt}{10pt}

\titleformat{\subsection}
  {\normalfont\large\bfseries\color{artisansilver}}
  {\thesubsection}{1em}{}
\titlespacing*{\subsection}{0pt}{14pt}{6pt}

% --- Hyperlinks Theme ---
\hypersetup{
    pdftitle={Gelar Sang Artisan},
    pdfauthor={Gilang Teja Krishna},
    colorlinks=true,
    linkcolor=artisansilver,
    filecolor=artisansilver,
    urlcolor=artisansilver,
}

% --- Table of Contents Styling ---
\usepackage{tocloft}
\renewcommand{\cftchapfont}{\color{artisansilver}\bfseries}
\renewcommand{\cftchappagefont}{\color{artisansilver}\bfseries}
\renewcommand{\cftsecfont}{\color{artisansilver}}
\renewcommand{\cftsecpagefont}{\color{artisansilver}}

% --- Page Setup ---
